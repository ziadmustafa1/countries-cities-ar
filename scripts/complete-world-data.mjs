import fs from 'fs';

console.log('ğŸŒ Ø¯Ù…Ø¬ ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù… Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...\n');

// Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
const dbCountries = JSON.parse(
  fs.readFileSync('countries-states-cities-database/json/countries.json', 'utf-8')
);

const dbStates = JSON.parse(
  fs.readFileSync('countries-states-cities-database/json/states.json', 'utf-8')
);

// Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
const africaData = fs.readFileSync('src/data/africa.ts', 'utf-8');
const americasData = fs.readFileSync('src/data/americas.ts', 'utf-8');
const asiaData = fs.readFileSync('src/data/asia.ts', 'utf-8');
const europeData = fs.readFileSync('src/data/europe.ts', 'utf-8');
const oceaniaData = fs.readFileSync('src/data/oceania.ts', 'utf-8');

// ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆÙ„Ø©
const statesByCountry = {};
dbStates.forEach(state => {
  const code = state.country_code;
  if (!statesByCountry[code]) {
    statesByCountry[code] = [];
  }
  statesByCountry[code].push({
    name: state.name,
    nameAr: state.name_native || state.name,
    nameFr: state.name // Ø³Ù†Ø­ØªØ§Ø¬ Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© Ù„Ø§Ø­Ù‚Ø§Ù‹
  });
});

// Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ© Ù„Ù„Ø¯ÙˆÙ„
const arabicCountryNames = {
  'AF': 'Ø£ÙØºØ§Ù†Ø³ØªØ§Ù†',
  'AL': 'Ø£Ù„Ø¨Ø§Ù†ÙŠØ§',
  'DZ': 'Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±',
  'AS': 'Ø³Ø§Ù…ÙˆØ§ Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ©',
  'AD': 'Ø£Ù†Ø¯ÙˆØ±Ø§',
  'AO': 'Ø£Ù†ØºÙˆÙ„Ø§',
  'AI': 'Ø£Ù†ØºÙŠÙ„Ø§',
  'AQ': 'Ø§Ù„Ù‚Ø§Ø±Ø© Ø§Ù„Ù‚Ø·Ø¨ÙŠØ© Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©',
  'AG': 'Ø£Ù†ØªÙŠØºÙˆØ§ ÙˆØ¨Ø§Ø±Ø¨ÙˆØ¯Ø§',
  'AR': 'Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†',
  'AM': 'Ø£Ø±Ù…ÙŠÙ†ÙŠØ§',
  'AW': 'Ø£Ø±ÙˆØ¨Ø§',
  'AU': 'Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§',
  'AT': 'Ø§Ù„Ù†Ù…Ø³Ø§',
  'AZ': 'Ø£Ø°Ø±Ø¨ÙŠØ¬Ø§Ù†',
  'BS': 'Ø§Ù„Ø¨Ø§Ù‡Ø§Ù…Ø§',
  'BH': 'Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†',
  'BD': 'Ø¨Ù†ØºÙ„Ø§Ø¯ÙŠØ´',
  'BB': 'Ø¨Ø±Ø¨Ø§Ø¯ÙˆØ³',
  'BY': 'Ø±ÙˆØ³ÙŠØ§ Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡',
  'BE': 'Ø¨Ù„Ø¬ÙŠÙƒØ§',
  'BZ': 'Ø¨Ù„ÙŠØ²',
  'BJ': 'Ø¨Ù†ÙŠÙ†',
  'BM': 'Ø¨Ø±Ù…ÙˆØ¯Ø§',
  'BT': 'Ø¨ÙˆØªØ§Ù†',
  'BO': 'Ø¨ÙˆÙ„ÙŠÙÙŠØ§',
  'BA': 'Ø§Ù„Ø¨ÙˆØ³Ù†Ø© ÙˆØ§Ù„Ù‡Ø±Ø³Ùƒ',
  'BW': 'Ø¨ÙˆØªØ³ÙˆØ§Ù†Ø§',
  'BR': 'Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„',
  'BN': 'Ø¨Ø±ÙˆÙ†Ø§ÙŠ',
  'BG': 'Ø¨Ù„ØºØ§Ø±ÙŠØ§',
  'BF': 'Ø¨ÙˆØ±ÙƒÙŠÙ†Ø§ ÙØ§Ø³Ùˆ',
  'BI': 'Ø¨ÙˆØ±ÙˆÙ†Ø¯ÙŠ',
  'KH': 'ÙƒÙ…Ø¨ÙˆØ¯ÙŠØ§',
  'CM': 'Ø§Ù„ÙƒØ§Ù…ÙŠØ±ÙˆÙ†',
  'CA': 'ÙƒÙ†Ø¯Ø§',
  'CV': 'Ø§Ù„Ø±Ø£Ø³ Ø§Ù„Ø£Ø®Ø¶Ø±',
  'KY': 'Ø¬Ø²Ø± ÙƒØ§ÙŠÙ…Ø§Ù†',
  'CF': 'Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„ÙˆØ³Ø·Ù‰',
  'TD': 'ØªØ´Ø§Ø¯',
  'CL': 'ØªØ´ÙŠÙ„ÙŠ',
  'CN': 'Ø§Ù„ØµÙŠÙ†',
  'CO': 'ÙƒÙˆÙ„ÙˆÙ…Ø¨ÙŠØ§',
  'KM': 'Ø¬Ø²Ø± Ø§Ù„Ù‚Ù…Ø±',
  'CG': 'Ø§Ù„ÙƒÙˆÙ†ØºÙˆ',
  'CD': 'Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„ÙƒÙˆÙ†ØºÙˆ Ø§Ù„Ø¯ÙŠÙ…Ù‚Ø±Ø§Ø·ÙŠØ©',
  'CR': 'ÙƒÙˆØ³ØªØ§Ø±ÙŠÙƒØ§',
  'CI': 'Ø³Ø§Ø­Ù„ Ø§Ù„Ø¹Ø§Ø¬',
  'HR': 'ÙƒØ±ÙˆØ§ØªÙŠØ§',
  'CU': 'ÙƒÙˆØ¨Ø§',
  'CY': 'Ù‚Ø¨Ø±Øµ',
  'CZ': 'Ø§Ù„ØªØ´ÙŠÙƒ',
  'DK': 'Ø§Ù„Ø¯Ù†Ù…Ø§Ø±Ùƒ',
  'DJ': 'Ø¬ÙŠØ¨ÙˆØªÙŠ',
  'DM': 'Ø¯ÙˆÙ…ÙŠÙ†ÙŠÙƒØ§',
  'DO': 'Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†ÙŠÙƒØ§Ù†',
  'EC': 'Ø§Ù„Ø¥ÙƒÙˆØ§Ø¯ÙˆØ±',
  'EG': 'Ù…ØµØ±',
  'SV': 'Ø§Ù„Ø³Ù„ÙØ§Ø¯ÙˆØ±',
  'GQ': 'ØºÙŠÙ†ÙŠØ§ Ø§Ù„Ø§Ø³ØªÙˆØ§Ø¦ÙŠØ©',
  'ER': 'Ø¥Ø±ÙŠØªØ±ÙŠØ§',
  'EE': 'Ø¥Ø³ØªÙˆÙ†ÙŠØ§',
  'ET': 'Ø¥Ø«ÙŠÙˆØ¨ÙŠØ§',
  'FJ': 'ÙÙŠØ¬ÙŠ',
  'FI': 'ÙÙ†Ù„Ù†Ø¯Ø§',
  'FR': 'ÙØ±Ù†Ø³Ø§',
  'GA': 'Ø§Ù„ØºØ§Ø¨ÙˆÙ†',
  'GM': 'ØºØ§Ù…Ø¨ÙŠØ§',
  'GE': 'Ø¬ÙˆØ±Ø¬ÙŠØ§',
  'DE': 'Ø£Ù„Ù…Ø§Ù†ÙŠØ§',
  'GH': 'ØºØ§Ù†Ø§',
  'GR': 'Ø§Ù„ÙŠÙˆÙ†Ø§Ù†',
  'GD': 'ØºØ±ÙŠÙ†Ø§Ø¯Ø§',
  'GT': 'ØºÙˆØ§ØªÙŠÙ…Ø§Ù„Ø§',
  'GN': 'ØºÙŠÙ†ÙŠØ§',
  'GW': 'ØºÙŠÙ†ÙŠØ§ Ø¨ÙŠØ³Ø§Ùˆ',
  'GY': 'ØºÙŠØ§Ù†Ø§',
  'HT': 'Ù‡Ø§ÙŠØªÙŠ',
  'HN': 'Ù‡Ù†Ø¯ÙˆØ±Ø§Ø³',
  'HU': 'Ø§Ù„Ù…Ø¬Ø±',
  'IS': 'Ø¢ÙŠØ³Ù„Ù†Ø¯Ø§',
  'IN': 'Ø§Ù„Ù‡Ù†Ø¯',
  'ID': 'Ø¥Ù†Ø¯ÙˆÙ†ÙŠØ³ÙŠØ§',
  'IR': 'Ø¥ÙŠØ±Ø§Ù†',
  'IQ': 'Ø§Ù„Ø¹Ø±Ø§Ù‚',
  'IE': 'Ø£ÙŠØ±Ù„Ù†Ø¯Ø§',
  'IL': 'Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„',
  'IT': 'Ø¥ÙŠØ·Ø§Ù„ÙŠØ§',
  'JM': 'Ø¬Ø§Ù…Ø§ÙŠÙƒØ§',
  'JP': 'Ø§Ù„ÙŠØ§Ø¨Ø§Ù†',
  'JO': 'Ø§Ù„Ø£Ø±Ø¯Ù†',
  'KZ': 'ÙƒØ§Ø²Ø§Ø®Ø³ØªØ§Ù†',
  'KE': 'ÙƒÙŠÙ†ÙŠØ§',
  'KI': 'ÙƒÙŠØ±ÙŠØ¨Ø§ØªÙŠ',
  'KP': 'ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©',
  'KR': 'ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©',
  'KW': 'Ø§Ù„ÙƒÙˆÙŠØª',
  'KG': 'Ù‚ÙŠØ±ØºÙŠØ²Ø³ØªØ§Ù†',
  'LA': 'Ù„Ø§ÙˆØ³',
  'LV': 'Ù„Ø§ØªÙÙŠØ§',
  'LB': 'Ù„Ø¨Ù†Ø§Ù†',
  'LS': 'Ù„ÙŠØ³ÙˆØªÙˆ',
  'LR': 'Ù„ÙŠØ¨ÙŠØ±ÙŠØ§',
  'LY': 'Ù„ÙŠØ¨ÙŠØ§',
  'LI': 'Ù„ÙŠØ®ØªÙ†Ø´ØªØ§ÙŠÙ†',
  'LT': 'Ù„ÙŠØªÙˆØ§Ù†ÙŠØ§',
  'LU': 'Ù„ÙˆÙƒØ³Ù…Ø¨ÙˆØ±Øº',
  'MK': 'Ù…Ù‚Ø¯ÙˆÙ†ÙŠØ§ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©',
  'MG': 'Ù…Ø¯ØºØ´Ù‚Ø±',
  'MW': 'Ù…Ø§Ù„Ø§ÙˆÙŠ',
  'MY': 'Ù…Ø§Ù„ÙŠØ²ÙŠØ§',
  'MV': 'Ø¬Ø²Ø± Ø§Ù„Ù…Ø§Ù„Ø¯ÙŠÙ',
  'ML': 'Ù…Ø§Ù„ÙŠ',
  'MT': 'Ù…Ø§Ù„Ø·Ø§',
  'MH': 'Ø¬Ø²Ø± Ù…Ø§Ø±Ø´Ø§Ù„',
  'MR': 'Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§',
  'MU': 'Ù…ÙˆØ±ÙŠØ´ÙŠÙˆØ³',
  'MX': 'Ø§Ù„Ù…ÙƒØ³ÙŠÙƒ',
  'FM': 'Ù…ÙŠÙƒØ±ÙˆÙ†ÙŠØ²ÙŠØ§',
  'MD': 'Ù…ÙˆÙ„Ø¯ÙˆÙØ§',
  'MC': 'Ù…ÙˆÙ†Ø§ÙƒÙˆ',
  'MN': 'Ù…Ù†ØºÙˆÙ„ÙŠØ§',
  'ME': 'Ø§Ù„Ø¬Ø¨Ù„ Ø§Ù„Ø£Ø³ÙˆØ¯',
  'MA': 'Ø§Ù„Ù…ØºØ±Ø¨',
  'MZ': 'Ù…ÙˆØ²Ù…Ø¨ÙŠÙ‚',
  'MM': 'Ù…ÙŠØ§Ù†Ù…Ø§Ø±',
  'NA': 'Ù†Ø§Ù…ÙŠØ¨ÙŠØ§',
  'NR': 'Ù†Ø§ÙˆØ±Ùˆ',
  'NP': 'Ù†ÙŠØ¨Ø§Ù„',
  'NL': 'Ù‡ÙˆÙ„Ù†Ø¯Ø§',
  'NZ': 'Ù†ÙŠÙˆØ²ÙŠÙ„Ù†Ø¯Ø§',
  'NI': 'Ù†ÙŠÙƒØ§Ø±Ø§ØºÙˆØ§',
  'NE': 'Ø§Ù„Ù†ÙŠØ¬Ø±',
  'NG': 'Ù†ÙŠØ¬ÙŠØ±ÙŠØ§',
  'NO': 'Ø§Ù„Ù†Ø±ÙˆÙŠØ¬',
  'OM': 'Ø³Ù„Ø·Ù†Ø© Ø¹ÙÙ…Ø§Ù†',
  'PK': 'Ø¨Ø§ÙƒØ³ØªØ§Ù†',
  'PW': 'Ø¨Ø§Ù„Ø§Ùˆ',
  'PS': 'ÙÙ„Ø³Ø·ÙŠÙ†',
  'PA': 'Ø¨Ù†Ù…Ø§',
  'PG': 'Ø¨Ø§Ø¨ÙˆØ§ ØºÙŠÙ†ÙŠØ§ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©',
  'PY': 'Ø¨Ø§Ø±Ø§ØºÙˆØ§ÙŠ',
  'PE': 'Ø¨ÙŠØ±Ùˆ',
  'PH': 'Ø§Ù„ÙÙ„Ø¨ÙŠÙ†',
  'PL': 'Ø¨ÙˆÙ„Ù†Ø¯Ø§',
  'PT': 'Ø§Ù„Ø¨Ø±ØªØºØ§Ù„',
  'QA': 'Ù‚Ø·Ø±',
  'RO': 'Ø±ÙˆÙ…Ø§Ù†ÙŠØ§',
  'RU': 'Ø±ÙˆØ³ÙŠØ§',
  'RW': 'Ø±ÙˆØ§Ù†Ø¯Ø§',
  'KN': 'Ø³Ø§Ù†Øª ÙƒÙŠØªØ³ ÙˆÙ†ÙŠÙÙŠØ³',
  'LC': 'Ø³Ø§Ù†Øª Ù„ÙˆØ³ÙŠØ§',
  'VC': 'Ø³Ø§Ù†Øª ÙÙ†Ø³Ù†Øª ÙˆØ§Ù„ØºØ±ÙŠÙ†Ø§Ø¯ÙŠÙ†',
  'WS': 'Ø³Ø§Ù…ÙˆØ§',
  'SM': 'Ø³Ø§Ù† Ù…Ø§Ø±ÙŠÙ†Ùˆ',
  'ST': 'Ø³Ø§Ùˆ ØªÙˆÙ…ÙŠ ÙˆØ¨Ø±ÙŠÙ†Ø³ÙŠØ¨ÙŠ',
  'SA': 'Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©',
  'SN': 'Ø§Ù„Ø³Ù†ØºØ§Ù„',
  'RS': 'ØµØ±Ø¨ÙŠØ§',
  'SC': 'Ø³ÙŠØ´Ù„',
  'SL': 'Ø³ÙŠØ±Ø§Ù„ÙŠÙˆÙ†',
  'SG': 'Ø³Ù†ØºØ§ÙÙˆØ±Ø©',
  'SK': 'Ø³Ù„ÙˆÙØ§ÙƒÙŠØ§',
  'SI': 'Ø³Ù„ÙˆÙÙŠÙ†ÙŠØ§',
  'SB': 'Ø¬Ø²Ø± Ø³Ù„ÙŠÙ…Ø§Ù†',
  'SO': 'Ø§Ù„ØµÙˆÙ…Ø§Ù„',
  'ZA': 'Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§',
  'SS': 'Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø³ÙˆØ¯Ø§Ù†',
  'ES': 'Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§',
  'LK': 'Ø³Ø±ÙŠÙ„Ø§Ù†ÙƒØ§',
  'SD': 'Ø§Ù„Ø³ÙˆØ¯Ø§Ù†',
  'SR': 'Ø³ÙˆØ±ÙŠÙ†Ø§Ù…',
  'SZ': 'Ø¥Ø³ÙˆØ§ØªÙŠÙ†ÙŠ',
  'SE': 'Ø§Ù„Ø³ÙˆÙŠØ¯',
  'CH': 'Ø³ÙˆÙŠØ³Ø±Ø§',
  'SY': 'Ø³ÙˆØ±ÙŠØ§',
  'TW': 'ØªØ§ÙŠÙˆØ§Ù†',
  'TJ': 'Ø·Ø§Ø¬ÙŠÙƒØ³ØªØ§Ù†',
  'TZ': 'ØªÙ†Ø²Ø§Ù†ÙŠØ§',
  'TH': 'ØªØ§ÙŠÙ„Ø§Ù†Ø¯',
  'TL': 'ØªÙŠÙ…ÙˆØ± Ø§Ù„Ø´Ø±Ù‚ÙŠØ©',
  'TG': 'ØªÙˆØºÙˆ',
  'TO': 'ØªÙˆÙ†ØºØ§',
  'TT': 'ØªØ±ÙŠÙ†ÙŠØ¯Ø§Ø¯ ÙˆØªÙˆØ¨Ø§ØºÙˆ',
  'TN': 'ØªÙˆÙ†Ø³',
  'TR': 'ØªØ±ÙƒÙŠØ§',
  'TM': 'ØªØ±ÙƒÙ…Ø§Ù†Ø³ØªØ§Ù†',
  'TV': 'ØªÙˆÙØ§Ù„Ùˆ',
  'UG': 'Ø£ÙˆØºÙ†Ø¯Ø§',
  'UA': 'Ø£ÙˆÙƒØ±Ø§Ù†ÙŠØ§',
  'AE': 'Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©',
  'GB': 'Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©',
  'US': 'Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©',
  'UY': 'Ø§Ù„Ø£ÙˆØ±ÙˆØºÙˆØ§ÙŠ',
  'UZ': 'Ø£ÙˆØ²Ø¨ÙƒØ³ØªØ§Ù†',
  'VU': 'ÙØ§Ù†ÙˆØ§ØªÙˆ',
  'VA': 'Ø§Ù„ÙØ§ØªÙŠÙƒØ§Ù†',
  'VE': 'ÙÙ†Ø²ÙˆÙŠÙ„Ø§',
  'VN': 'ÙÙŠØªÙ†Ø§Ù…',
  'YE': 'Ø§Ù„ÙŠÙ…Ù†',
  'ZM': 'Ø²Ø§Ù…Ø¨ÙŠØ§',
  'ZW': 'Ø²ÙŠÙ…Ø¨Ø§Ø¨ÙˆÙŠ',
  // Ø¥Ø¶Ø§ÙØ§Øª
  'AX': 'Ø¬Ø²Ø± Ø£ÙˆÙ„Ø§Ù†Ø¯',
  'BQ': 'Ø¨ÙˆÙ†ÙŠØ± ÙˆØ³Ø§Ù†Øª Ø£ÙˆØ³ØªØ§ØªÙŠÙˆØ³ ÙˆØ³Ø§Ø¨Ø§',
  'CW': 'ÙƒÙˆØ±Ø§Ø³Ø§Ùˆ',
  'GU': 'ØºÙˆØ§Ù…',
  'JE': 'Ø¬ÙŠØ±Ø³ÙŠ',
  'XK': 'ÙƒÙˆØ³ÙˆÙÙˆ',
  'RE': 'Ø±ÙŠÙˆÙ†ÙŠÙˆÙ†',
  'BL': 'Ø³Ø§Ù† Ø¨Ø§Ø±ØªÙŠÙ„Ù…ÙŠ',
  'SX': 'Ø³Ø§Ù†Øª Ù…Ø§Ø±ØªÙ†',
  'TC': 'Ø¬Ø²Ø± ØªÙˆØ±ÙƒØ³ ÙˆÙƒØ§ÙŠÙƒÙˆØ³',
  'VI': 'Ø¬Ø²Ø± Ø§Ù„Ø¹Ø°Ø±Ø§Ø¡ Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ©'
};

// ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©
const completeWorldData = {
  missingCountries: [],
  updatedCountries: [],
  totalStates: 0
};

// Ù…Ø¹Ø§Ù„Ø¬Ø© ÙƒÙ„ Ø¯ÙˆÙ„Ø© Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
dbCountries.forEach(dbCountry => {
  const code = dbCountry.iso2;
  const states = statesByCountry[code] || [];
  
  if (states.length > 0) {
    const countryData = {
      code: code,
      name: dbCountry.name,
      nameAr: arabicCountryNames[code] || dbCountry.native || dbCountry.name,
      nameFr: dbCountry.name, // ÙŠÙ…ÙƒÙ† ØªØ­Ø³ÙŠÙ†Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹
      region: dbCountry.region,
      subregion: dbCountry.subregion,
      statesCount: states.length,
      states: states
    };
    
    // ØªØ­Ø¯ÙŠØ¯ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¯ÙˆÙ„Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø£ÙŠ Ù…Ù„Ù
    const isInAfrica = africaData.includes(`"code": "${code}"`);
    const isInAmericas = americasData.includes(`"code": "${code}"`);
    const isInAsia = asiaData.includes(`"code": "${code}"`);
    const isInEurope = europeData.includes(`"code": "${code}"`);
    const isInOceania = oceaniaData.includes(`"code": "${code}"`);
    
    if (!isInAfrica && !isInAmericas && !isInAsia && !isInEurope && !isInOceania) {
      completeWorldData.missingCountries.push(countryData);
    } else {
      completeWorldData.updatedCountries.push(countryData);
    }
    
    completeWorldData.totalStates += states.length;
  }
});

// Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©
fs.writeFileSync(
  'output/complete-world-data.json',
  JSON.stringify(completeWorldData, null, 2),
  'utf-8'
);

console.log('ğŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬:');
console.log(`   Ø¯ÙˆÙ„ Ù…ÙÙ‚ÙˆØ¯Ø©: ${completeWorldData.missingCountries.length}`);
console.log(`   Ø¯ÙˆÙ„ Ù„Ù„ØªØ­Ø¯ÙŠØ«: ${completeWorldData.updatedCountries.length}`);
console.log(`   Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª: ${completeWorldData.totalStates}`);

// Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙƒØ±ÙŠØ¨Øª Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆÙ„ Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø©
const missingByRegion = {
  'Africa': [],
  'Americas': [],
  'Asia': [],
  'Europe': [],
  'Oceania': []
};

completeWorldData.missingCountries.forEach(country => {
  const region = country.region || 'Other';
  if (missingByRegion[region]) {
    missingByRegion[region].push(country);
  }
});

console.log('\nğŸ“ Ø§Ù„Ø¯ÙˆÙ„ Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:');
Object.keys(missingByRegion).forEach(region => {
  if (missingByRegion[region].length > 0) {
    console.log(`\n${region}:`);
    missingByRegion[region].forEach(c => {
      console.log(`   - ${c.nameAr} (${c.code}): ${c.statesCount} Ù…Ø­Ø§ÙØ¸Ø©`);
    });
  }
});

// Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ù„Ù„Ø¯ÙˆÙ„ Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø© Ù…Ø¹ Ù…Ø­Ø§ÙØ¸Ø§ØªÙ‡Ø§
fs.writeFileSync(
  'output/missing-countries.json',
  JSON.stringify(missingByRegion, null, 2),
  'utf-8'
);

console.log('\nâœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ:');
console.log('   - output/complete-world-data.json');
console.log('   - output/missing-countries.json');
